:root{--bg:#f5f5f5;--card:#fff;--glass:rgba(255,255,255,.95);--accent:#f0f5fa;--hover:#e3f2fd;--bmain:rgba(0,0,0,.05);--btable:#eaeaea;--tmain:#202020;--tmuted:#555;--tlink:#0078d7;--tlinkh:#0067b8;--tbtn:#fff;--tbtnd:#212529;--primary:#0078d7;--primaryd:#0067b8;--secondary:#6c757d;--secondaryd:#5a6268;--success:#28a745;--successd:#218838;--danger:#dc3545;--dangerd:#c82333;--warning:#ffc107;--warningd:#e0a800;--info:#17a2b8;--infod:#138496;--rmain:12px;--rbtn:8px;--rsm:6px;--shadow:0 2px 15px rgba(0,0,0,.06);--shadowh:0 4px 15px rgba(0,0,0,.08);--font:'Segoe UI','Yu Gothic UI',sans-serif;--mono:'Consolas','Courier New',monospace}
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:var(--font);background:var(--bg);color:var(--tmain);line-height:1.6;padding:20px}
body.auth-page-body{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:100vh;padding:20px;background:var(--bg)}
.container{max-width:1100px;margin:0 auto;background:var(--glass);padding:30px 40px;border-radius:var(--rmain);box-shadow:var(--shadow);border:1px solid var(--bmain);margin-top:20px;margin-bottom:20px;backdrop-filter:blur(10px)}
.flash-messages{list-style:none;padding:0;margin:0 auto 20px;width:100%;max-width:960px}
.flash-messages li{padding:15px 20px;margin-bottom:12px;border:none;border-radius:var(--rmain);text-align:center;font-size:.95em;box-shadow:0 2px 5px rgba(0,0,0,.04)}
.flash-messages li.info{color:#0c5460;background:#e1f5fe}
.flash-messages li.success{color:#1e7e34;background:#e6f7e9}
.flash-messages li.warning{color:#856404;background:#fff8e6}
.flash-messages li.danger{color:#721c24;background:#ffeaee}
.auth-page-body .flash-messages{max-width:400px}
.container .flash-messages{max-width:100%}
.btn{display:inline-block;padding:10px 22px;color:var(--tbtn);border:none;border-radius:var(--rbtn);font-size:1em;font-weight:500;cursor:pointer;transition:all .2s;text-decoration:none;text-align:center;margin:5px;line-height:1.5;vertical-align:middle;box-shadow:0 2px 5px rgba(0,0,0,.08)}
.btn-sm{padding:6px 12px;font-size:.85em;border-radius:var(--rsm)}
.btn-primary{background:var(--primary);border:1px solid var(--primaryd)}
.btn-primary:hover{background:var(--primaryd)}
.btn-secondary{background:var(--secondary);border:1px solid var(--secondaryd)}
.btn-secondary:hover{background:var(--secondaryd)}
.btn-success{background:var(--success);border:1px solid var(--successd)}
.btn-success:hover{background:var(--successd)}
.btn-danger{background:var(--danger);border:1px solid var(--dangerd);color:var(--tbtn)}
.btn-danger:hover{background:var(--dangerd)}
.btn-warning{background:var(--warning);color:var(--tbtnd);border:1px solid var(--warningd)}
.btn-warning:hover{background:var(--warningd)}
.btn-info{background:var(--info);border:1px solid var(--infod)}
.btn-info:hover{background:var(--infod)}
.btn-block{width:100%;display:block}
.auth-form-container{background:var(--card);padding:35px 40px;border-radius:var(--rmain);box-shadow:0 4px 20px rgba(0,0,0,.08);width:100%;max-width:400px;text-align:center;border:1px solid var(--bmain);backdrop-filter:blur(10px)}
.auth-form-container h2{margin-bottom:30px;color:#333;font-weight:500}
.auth-form-container .form-group{margin-bottom:24px;text-align:left}
.auth-form-container label{display:block;margin-bottom:8px;font-weight:500;color:#444;font-size:.95em}
.auth-form-container input[type=email],.auth-form-container input[type=password]{width:100%;padding:12px 16px;border:1px solid #e0e0e0;border-radius:var(--rbtn);font-size:1em;transition:all .2s}
.auth-form-container input:focus{outline:0;border-color:var(--primary);box-shadow:0 0 0 2px rgba(0,120,215,.2)}
.auth-form-container .btn{margin-top:20px}
.switch-link{margin-top:30px;font-size:.95em;color:#666}
.switch-link a{color:var(--primary);text-decoration:none;font-weight:500}
.switch-link a:hover{text-decoration:underline}
.form-container-large{background:var(--card);padding:35px 40px;border-radius:var(--rmain);box-shadow:0 4px 20px rgba(0,0,0,.08);width:100%;max-width:700px;margin:20px auto;border:1px solid var(--bmain)}
.form-container-large h1{margin-bottom:30px;color:#333;font-weight:500;text-align:center;font-size:1.8em}
.form-group{margin-bottom:22px;text-align:left}
.form-group label{display:block;margin-bottom:8px;font-weight:500;color:#444;font-size:.95em}
input[type=datetime-local],input[type=email],input[type=number],input[type=password],input[type=text],select,textarea{display:block;width:100%;padding:12px 16px;border:1px solid #e0e0e0;border-radius:var(--rbtn);font-size:1em;transition:all .2s;background:#fff;color:#333}
textarea{min-height:100px;resize:vertical}
input:focus,select:focus,textarea:focus{outline:0;border-color:var(--primary);box-shadow:0 0 0 2px rgba(0,120,215,.2)}
.form-container-large .form-group small{font-size:.85em;color:#777;margin-top:6px;display:inline-block}
.form-container-large .submit-button-group{text-align:center;margin-top:35px}
.form-container-large .submit-button-group .btn{padding:12px 30px;font-size:1.1em}
.header{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;padding-bottom:18px;border-bottom:1px solid var(--btable)}
.header h1{margin:0;font-size:1.8em;color:#333;font-weight:500}
.header .user-info{font-size:.95em;color:var(--tmuted);display:flex;align-items:center;gap:12px}
.header .user-info a{color:var(--primary);text-decoration:none;transition:color .2s;font-weight:500;padding:5px 12px;border-radius:var(--rsm)}
.header .user-info a.btn-danger{background:var(--danger);color:var(--tbtn);font-weight:700}
.header .user-info a.btn-danger:hover{background:var(--dangerd)}
.header .user-info a:hover{color:var(--primaryd)}
.header .actions{display:flex;flex-wrap:wrap;gap:10px}
.welcome-message{margin-bottom:30px;font-size:1.1em;color:#444}
.dashboard-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:25px}
.dashboard-section{background:var(--card);padding:25px;border-radius:var(--rmain);border:1px solid var(--bmain);box-shadow:var(--shadow);transition:transform .2s,box-shadow .2s;backdrop-filter:blur(10px)}
.dashboard-section:hover{transform:translateY(-2px);box-shadow:var(--shadowh)}
.dashboard-section h2{font-size:1.3em;margin-top:0;margin-bottom:20px;border-bottom:1px solid var(--btable);padding-bottom:12px;color:#333;font-weight:500}
.dashboard-section ul{list-style:none;padding:0;margin:0}
.dashboard-section li{margin-bottom:12px;padding-bottom:12px;border-bottom:1px dashed #eee}
.dashboard-section li:last-child{border-bottom:none;margin-bottom:0;padding-bottom:0}
.dashboard-section a{text-decoration:none;color:var(--primary);font-weight:500;transition:color .2s}
.dashboard-section a:hover{color:var(--primaryd)}
.dashboard-section .task-meta{font-size:.85em;color:#777;margin-top:6px}
.dashboard-section .no-items{color:#777;font-style:italic}
.dashboard-section .api-notice{font-size:.9em;color:#777;margin-top:15px;background:var(--accent);padding:12px;border-radius:var(--rbtn)}
.dashboard-section .api-notice a{color:var(--primary)}
.ai-recommendations{white-space:pre-wrap;font-family:var(--mono);background:var(--accent);padding:15px;border-radius:var(--rbtn);font-size:.9em}
.quick-links ul{display:flex;flex-wrap:wrap;gap:12px;padding:0;list-style:none;margin-top:12px}
.quick-links li a{padding:12px 18px;background:var(--accent);border-radius:var(--rbtn);color:var(--primary);transition:all .2s;font-size:.95em;display:block}
.quick-links li a:hover{background:var(--hover);transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,.05)}
.tasks-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:35px;padding-bottom:18px;border-bottom:1px solid var(--btable);flex-wrap:wrap;gap:15px}
.tasks-header h1{margin:0;font-size:2em;color:#333;font-weight:500;flex-grow:1}
.tasks-header .user-info{color:#555;font-size:.95em;white-space:nowrap;display:flex;align-items:center;gap:12px}
.tasks-header .actions{display:flex;flex-wrap:wrap;gap:10px;justify-content:flex-end}
.tasks-table{width:100%;border-collapse:separate;border-spacing:0;margin-top:20px;font-size:.95em;box-shadow:var(--shadow);background:#fff;border-radius:var(--rmain);overflow:hidden}
.tasks-table td,.tasks-table th{border:none;border-bottom:1px solid var(--btable);padding:14px 18px;text-align:left;vertical-align:middle}
.tasks-table th{background:#f8f9fa;font-weight:500;color:#444;white-space:nowrap}
.tasks-table tbody tr:last-child td{border-bottom:none}
.tasks-table tbody tr:nth-child(even){background:#fafafa}
.tasks-table tbody tr:hover{background:var(--hover)}
.tasks-table .actions{text-align:center;white-space:nowrap}
.tasks-table .actions form{display:inline-block;margin:0 3px}
.tasks-table .actions .btn{padding:6px 12px;font-size:.85em}
.no-tasks{color:#777;margin-top:25px;text-align:center;padding:35px;background:#f9f9f9;border-radius:var(--rmain);font-size:1.1em;box-shadow:0 2px 8px rgba(0,0,0,.03)}
.back-link{display:block;text-align:center;margin:30px auto;text-decoration:none;color:var(--primary);font-weight:500;font-size:1em;padding:8px 16px;background:#f5f9fd;border-radius:var(--rbtn);width:fit-content;transition:all .2s}
.back-link:hover{background:var(--hover);text-decoration:none;transform:translateY(-1px);box-shadow:0 4px 8px rgba(0,0,0,.05)}
#calendar{max-width:1100px;margin:0 auto;background:#fff;padding:20px;border-radius:var(--rmain);box-shadow:var(--shadow)}
.fc-header-toolbar{margin-bottom:1.5em!important}
.fc-toolbar-title{font-size:1.5em!important;font-weight:500!important;color:#333!important}
.fc-button-primary{background:var(--primary)!important;border-color:var(--primaryd)!important;border-radius:var(--rsm)!important}
.fc-button-primary:hover{background:var(--primaryd)!important}
.fc-event{border:none!important;border-radius:var(--rsm)!important;box-shadow:0 1px 3px rgba(0,0,0,.1)!important}
.fc-event-main{cursor:pointer;padding:4px 8px!important}
.fc-theme-standard .fc-scrollgrid,.fc-theme-standard td,.fc-theme-standard th{border-color:var(--btable)!important}
.tooltip{position:absolute;background:rgba(40,40,40,.85);color:#fff;padding:8px 12px;border-radius:var(--rbtn);font-size:.85em;white-space:pre-wrap;z-index:100;pointer-events:none;display:none;box-shadow:0 4px 10px rgba(0,0,0,.2)}
.settings-section{margin-bottom:30px;padding:30px;background:#fff;border-radius:var(--rmain);border:1px solid var(--bmain);box-shadow:var(--shadow)}
.settings-section h2{margin-top:0;margin-bottom:25px;font-size:1.4em;border-bottom:1px solid var(--btable);padding-bottom:12px;color:#333;font-weight:500}
.api-key-note{font-size:.9em;color:#777;margin-top:10px;line-height:1.5}
.api-status-message{margin-bottom:20px;font-weight:500;font-size:.95em;padding:12px 15px;border-radius:var(--rbtn)}
.api-status-ok{color:#1e7e34;background:#e6f7e9}
.api-status-warning{color:#856404;background:#fff8e6}
.subject-registration{margin-bottom:30px;padding:25px;background:#fff;border-radius:var(--rmain);border:1px solid var(--bmain);box-shadow:var(--shadow)}
.subject-registration h2{margin-top:0;margin-bottom:20px;font-size:1.3em;color:#333;font-weight:500}
.subject-registration .form-inline{display:flex;align-items:center;gap:10px}
.subject-registration input[type=text]{flex-grow:1;padding:12px 16px;border:1px solid #e0e0e0;border-radius:var(--rbtn);font-size:1em;transition:all .2s}
.subject-registration button{padding:12px 20px;background:var(--primary);color:var(--tbtn);border:none;border-radius:var(--rbtn);cursor:pointer;font-size:1em;transition:all .2s;box-shadow:0 2px 5px rgba(0,0,0,.08)}
.subject-registration button:hover{background:var(--primaryd);box-shadow:0 4px 8px rgba(0,0,0,.12);transform:translateY(-1px)}
.subject-list h2{font-size:1.3em;margin-bottom:20px;color:#333;font-weight:500}
.subject-list ul{list-style:none;padding:0}
.subject-list li{display:flex;justify-content:space-between;align-items:center;padding:15px 20px;border:1px solid #eaeaea;border-radius:var(--rbtn);margin-bottom:12px;background:#fff;transition:transform .2s,box-shadow .2s}
.subject-list li:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.08)}
.subject-list li span{flex-grow:1;margin-right:15px;font-size:1.05em;color:#333}
.subject-list li form{margin:0}
.subject-list li button{background:var(--danger);color:var(--tbtn);border:none;font-size:.85em;padding:6px 12px;border-radius:var(--rsm);cursor:pointer;transition:all .2s;box-shadow:0 2px 4px rgba(0,0,0,.08)}
.subject-list li button:hover{background:var(--dangerd);box-shadow:0 3px 6px rgba(0,0,0,.15);transform:translateY(-1px)}
.no-subjects{color:#777;font-style:italic;text-align:center;padding:25px;background:#f9f9f9;border-radius:var(--rmain);margin-top:20px}
@media (max-width:900px){.container{padding:12px}.form-container-large{padding:12px}.auth-form-container{padding:12px;width:97%}.dashboard-section{padding:12px}}
@media (max-width:768px){body{padding:8px}.container{padding:8px}.header,.tasks-header{flex-direction:column;align-items:flex-start}.header h1,.tasks-header h1{margin-bottom:15px;font-size:1.3em}.header .user-info,.tasks-header .user-info{margin-bottom:12px;flex-direction:column;align-items:flex-start;gap:8px}.header .actions,.tasks-header .actions{width:100%;justify-content:flex-start;margin-top:10px}.btn{padding:12px 20px;margin:2px;font-size:1em;min-height:44px;min-width:44px}.btn-sm{padding:8px 15px}.tasks-table{display:block;overflow-x:auto}.tasks-table td,.tasks-table th{padding:10px;font-size:.9em}.tasks-table .actions .btn{padding:8px 12px;font-size:.9em;display:block;margin:5px 0;width:100%}.tasks-table .actions form{display:block;margin:5px 0}.form-container-large{padding:10px}.form-container-large h1{font-size:1.1em}.auth-form-container{padding:10px;width:99%}.dashboard-grid{grid-template-columns:1fr}.dashboard-section{padding:8px}.quick-links ul{flex-direction:column;gap:8px}.quick-links li{width:100%}.quick-links li a{padding:14px;text-align:center;font-size:1em}.fc-header-toolbar{flex-direction:column!important;gap:10px!important}.fc-toolbar-chunk{width:100%!important;display:flex!important;justify-content:center!important;margin:5px 0!important}.fc-toolbar-title{font-size:1.2em!important}.fc-view-harness{height:400px!important}.subject-registration .form-inline{flex-direction:column}.subject-registration input[type=text]{margin-bottom:10px;width:100%}.subject-registration button{width:100%}.subject-list li{flex-direction:column;align-items:stretch}.subject-list li span{margin-bottom:10px;text-align:center}.settings-section{padding:10px}.api-status-message{padding:8px}}
@media (max-width:480px){body{padding:4px}.container{padding:4px;border-radius:8px}.header h1,.tasks-header h1{font-size:1em}.btn{padding:8px 10px;font-size:.85em;width:100%;margin:2px 0}.btn-sm{padding:6px 10px}.tasks-table th{display:none}.tasks-table td{display:block;width:100%;text-align:right;padding:6px 8px;position:relative;padding-left:50%}.tasks-table td:before{content:attr(data-label);position:absolute;left:8px;width:45%;text-align:left;font-weight:700}.tasks-table .actions{text-align:center}.form-container-large{padding:5px;margin:5px auto}.auth-form-container{padding:5px;width:99%}}
